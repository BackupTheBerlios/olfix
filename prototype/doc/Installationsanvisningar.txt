Installationsanvisningar.

(2006-03-02)

Förutsättningen för att kunna installera OLFIX är att MySQL och Qt finns installerad på datorn. Har du KDE som grafiskt interface så är Qt installerat.

OBS! Exempel på installation av MySQL sist i detta dokument.
     För Slackware 10 finns en HOWTO här http://insyte.atspace.com/servers.html#mysql
OBS! MySQL skall vara startad. Det bästa är att ordna det så att MySQL startas när datorn startas.

Installation av programvara(första gången):
I fall du har en tidigare version av OLFIX installerad, installera då OLFIX på samma plats som den tidigare versionen.


shell> cd /opt
shell> gunzip < /path/to/OLFIX-VERSION.tar.gz | tar xvf -
shell> cd /opt/olfix/script
shell> cp /opt/olfix/script/.olfixrc $HOME/.olfixrc
shell> cd $HOME
shell> chown DittNamn .olfixrc
shell> chgrp DittNamn .olfixrc
shell> chmod 766 .olfixrc
shell> cd /opt/olfix/sql

För att skapa och ladda databasen:
OBS! Gör detta bara första gången du installerar OLFIX.
Editera filen /opt/olfix/sql/CreateOLFIX.sql
DittNamn i nästa rad skall vara ditt loginID med versaler (stora bokstäver).
Byt ut alla förekomster av 'ADMIN' till 'DittNamn' (OBS! apostroferna ska vara med)

T ex använda sed:
shell> sed "s/'ADMIN'/'DittNamn'/g" /opt/olfix/sql/CreateOLFIX.sql > /opt/olfix/CreateOLFIXNy.tmp
mv /opt/olfix/CreateOLFIXNy.tmp /opt/olfix/sql/CreateOLFIX.sql
Kör
shell> mysql -u root -p < /opt/olfix/sql/CreateOLFIX.sql > $HOME/tmp/mysql.log

Bibliotek.

OLFIX har följande bibliotek:
/opt/olfix
/opt/olfix/bin (Här ska alla binärfiler läggas efter kompilering)
/opt/olfix/data
/opt/olfix/doc
/opt/olfix/doc/image
/opt/olfix/doc/helpfiles
/opt/olfix/include
/opt/olfix/lib
/opt/olfix/report
/opt/olfix/script
/opt/olfix/sql
/opt/olfix/src
/opt/olfix/util

Kopiera filen /opt/olfix/script/.olfixrc till $HOME/.olfixrc och editera den så den passar dig. .olfixrc måste finnas i
$HOME hos alla användare som ska köra OLFIX.
OBS! VTMP=/tmp/ får inte avslutas med ett returntecken. Måste ligga sist i filen.
.olficrc bör se ut ungefär så här:

PATH=/opt/olfix/bin/
HOST=localhost
DATABASE=olfixtst
HELPFILE=/doc/helpfiles/usermanual/UserManual.html
REPORT=/opt/olfix/report/
VTMP=/tmp/

Start av OLFIX
Alternativ 1:
Använd KDE Konqueror och flytta dig till mappen /opt/olfix/bin
Klicka på OLFIXW
OLFIXW kommer att starta. Klicka på önskat program, rad för program, så kommer programmet upp i ett eget fönster.

Alternativ 2:
Öppna ett konsolfönster.
Gå till mappen /opt/olfix/bin.
Skriv;
shell>$ ./OLFIXW
och tryck Enter.

I Mandrakelinux
Start -> Flera Program -> Ekonomi -> OLFIXW (klicka)

Error:
Om huvudfönstret/meny är tomt/blankt
och/eller du får följande felmeddelande;
./STYRMAN: error while loading shared libraries: libmysqlclient.so.12: cannot open shared object: No such file or directory
Åtgärd:
Länka enligt följande som root;

För MandrivaLinux 2006.
# cd /usr/lib/
# ln -s libmysqlclient.so.14 libmysqlclient.so.12

För Fedora Core 4
# cd /usr/lib/
# ln -s ./mysql/libmysqlclient.so.14 libmysqlclient.so.12


Installation av MySQL
The basic commands you must execute to install and use a MySQL binary distribution are:
shell> groupadd mysql
shell> useradd -g mysql mysql
shell> cd /opt
shell> gunzip < /path/to/mysql.VERSION-OS.tar.gz | tar xvf -
shell> ln -s mysql.VERSION-OS mysql
shell> cd mysql
shell> scripts/mysql_install_db
shell> chown -R root /opt/mysql
shell> chown -R mysql /opt/mysql/data
shell> chgrp -R mysql /opt/mysql
shell> chown -R root /opt/mysql/bin
shell> bin/safe_mysqld ?user=mysql &

Se till att mysqld startas automatiskt vid start av datorn.
För mera information se MySQLReferenseManual, http://www.mysql.com/documentation/

Installation av mysqlcc
shell> cd /usr/local
shell> gunzip < /path/to/mysqlcc.VERSION.tar.gz | tar xvf -
mysqlcc.VERSION.tar.gz får inte finnas i /usr/local när kommandot ovan körs.

