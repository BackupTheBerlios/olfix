OLFIXDEST=/usr/local/olfix
OLFIXBIN=$(OLFIXDEST)/bin
OLFIXSRC=$(OLFIXDEST)/src
OLFIXINSTALL=$HOME/tmp

CFLAGS=-Wall -I/usr/include/mysql
LDFLAGS=-L/usr/lib/mysql
LDLIBS=-lmysqlclient

PROGRAMS=ADMIN ARADD AR2ADD ARCHG ARCHGL ARCHK ARICHK ARDSP ARDSPL ARLST ATTBET \
	 BARADD BARCHG BARCHK BARDSP BARFND BETADD BETCHG BETDSP BETLST \
	 FTGADD FTGADM FTGDSP FTGLIS FTGLST FTGUPD \
	 INKADD INKRADD\
	 KSTADD KSTCHK KSTDSP KSTLST KTOADD KTOCHG KTOCHK KTODSP KTOLST KTORPT KTOVIEW \
	 KUADD KUCHG KUCHK KUDSP KULST \
 	 LEVADD LEVCHG LEVDSP LEVLST \
	 LRESADD LRESRPT OLFIX \
	 PRGLST RGTADD RGTCHK RGTDEL RGTDSP RGTLST RPTCRE \
	 SLPADD STYRMAN TXTADD TXTDEL TXTDSP TRHDADD TRNSADD TRNSLST \
	 USERADD USERCHG USERDEL USERDSP USERLST \
	 VALADD VALCHG VALDEL VALDSP VALLST \
	 VERUPD WRREC

build: $(addprefix $(OLFIXBIN)/,$(PROGRAMS))

$(OLFIXBIN)/%: $(OLFIXSRC)/%.c
	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $< $(LDLIBS)

#Fulregel för att bygga program enkelt
%: $(OLFIXBIN)/%
