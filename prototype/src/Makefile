DESTDIR=/opt/olfix
# OLFIXDEST=/home/jan/Utveckling/OLFIX
OLFIXBIN=$(DESTDIR)/bin
OLFIXSRC=$(DESTDIR)/src
OLFIXINSTALL=$HOME/tmp

CFLAGS=-Wall -I/usr/include/mysql
LDFLAGS=-L/usr/lib/mysql
LDLIBS=-lmysqlclient

PROGRAMS=ADMIN ARADD AR2ADD ARCHG ARCHGL ARCHK ARICHK ARDSP ARDSPL ARLST ATTBET \
	 BARADD BARCHG BARCHK BARDSP BARFND BETADD BETCHG BETDSP BETLST \
	 DBOKRPT \
	 FORADD FORCHK FORLST \
	 FTGADD FTGADM FTGDSP FTGLST FTGLIS FTGUPD \
	 HBOKRPT \
	 INKADD INKRADD INKHDSP INKLST INKRLST \
	 KSTADD KSTCHK KSTDSP KSTLST KTOADD KTOCHG KTOCHK KTODSP KTOLST KTORPT KTOVIEW \
	 KUADD KUCHG KUCHK KUDSP KULST \
	 LEVADD LEVCHG LEVDSP LEVLST \
	 LEVPLST \
	 LEVSADD LEVSDSP LEVSLST LEVVADD LEVVDSP LEVVLST \
	 LRESADD LRESRPT OLFIX \
	 PKDADD PRGLST PRTAPI \
	 RGTADD RGTCHK RGTDEL RGTDSP RGTLST RPTCRE \
	 SLPADD STYRMAN TXTADD TXTDEL TXTDSP TRHDADD TRNSADD TRNSLST \
	 USERADD USERCHG USERDEL USERDSP USERLST \
	 VALADD VALCHG VALDEL VALDSP VALLST \
	 VERHDSP VERHLST VERUPD WRREC

build: $(addprefix $(OLFIXBIN)/,$(PROGRAMS))

$(OLFIXBIN)/%: $(OLFIXSRC)/%.c
	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $< $(LDLIBS)

#Fulregel för att bygga program enkelt
%: $(OLFIXBIN)/%
